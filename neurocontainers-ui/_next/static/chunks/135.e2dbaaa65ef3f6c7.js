"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[135],{2135:(e,a,t)=>{t.r(a),t.d(a,{default:()=>P});var n=t(5155),i=t(2115),r=t(5946),o=t(4500);let s=i.forwardRef(function(e,a){let{title:t,titleId:n,...r}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},r),t?i.createElement("title",{id:n},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}),c=i.forwardRef(function(e,a){let{title:t,titleId:n,...r}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},r),t?i.createElement("title",{id:n},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}),l=i.forwardRef(function(e,a){let{title:t,titleId:n,...r}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},r),t?i.createElement("title",{id:n},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});var d=t(8030);let p=i.forwardRef(function(e,a){let{title:t,titleId:n,...r}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},r),t?i.createElement("title",{id:n},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))});var g=t(4615),u=t(3490);let h=e=>e.trim()?/^https:\/\/github\.com\/[a-zA-Z0-9_.-]+\/[a-zA-Z0-9_.-]+\/?$/.test(e.trim())?null:"Please enter a valid GitHub repository URL (e.g., https://github.com/user/repo)":"GitHub URL is required",m=e=>e.trim()?e.length<2?"Container name must be at least 2 characters":e.length>63?"Container name cannot exceed 63 characters":/^[a-z0-9]+$/.test(e)?null:"Container name must be lowercase and can only contain letters and numbers":"Container name is required",y=e=>e.trim()?null:"Version is required",b=e=>{let a=e.match(/github\.com\/([^\/]+)\/([^\/]+)/);return a&&a[2]?a[2].replace(/\.git$/,"").toLowerCase().replace(/[^a-z0-9]/g,""):"mypackage"},x=[{id:"python-package",name:"Python Package from GitHub",description:"Create a container for a Python package hosted on GitHub with conda and pip installation",detailedDescription:"This template creates a containerized environment for Python packages hosted on GitHub with a complete setup including conda, and automatic testing.\n\n**What you'll get:**\n\n- Ubuntu 24.04 base with the latest Miniconda\n- Your GitHub package automatically installed via pip\n- Optional additional conda/pip dependencies\n- Comprehensive testing to verify installation\n- Auto-generated documentation and usage examples\n\n---\n\n## Technical Details\n\n**Base Image**: Ubuntu 24.04 provides a stable, well-supported foundation with comprehensive package availability.\n\n**Package Management**: Miniconda offers both conda and pip package installation, providing access to the full Python ecosystem including scientific computing packages.\n\n**Installation Process**: Your GitHub package is installed directly via `git+https://github.com/user/repo`, ensuring you get the latest version and all dependencies.\n\n**Testing Strategy**: Comprehensive verification includes Python/conda version checks, package import testing, and dependency validation to ensure your container works correctly.\n",icon:"\uD83D\uDC0D",category:"Programming",fields:[{id:"githubUrl",label:"GitHub Repository URL",type:"url",required:!0,placeholder:"https://github.com/user/repository",description:"The GitHub repository URL for the Python package you want to containerize",validation:h},{id:"containerName",label:"Container Name",type:"text",required:!0,placeholder:"mypackage",description:"A unique name for your container (lowercase letters and numbers only)",validation:m},{id:"version",label:"Version",type:"text",required:!0,placeholder:"1.0.0",description:"Version number for your container",validation:y},{id:"pythonVersion",label:"Python Version",type:"select",required:!0,description:"Python version to use in the container",options:[{value:"3.13",label:"Python 3.13.2 (Latest Stable - Feb 2025)"},{value:"3.12",label:"Python 3.12.9 (Security fixes only)"},{value:"3.11",label:"Python 3.11.13 (Security fixes only)"},{value:"3.10",label:"Python 3.10.17 (Legacy)"},{value:"3.9",label:"Python 3.9.22 (Legacy)"}]},{id:"license",label:"License",type:"license",required:!0,description:"Choose the license for your container"},{id:"description",label:"Description",type:"textarea",required:!0,placeholder:"Brief description of what this tool does...",description:"A clear description of what your tool does and its purpose"},{id:"additionalPipPackages",label:"Additional Python Packages (pip)",type:"python-packages",required:!1,placeholder:"Add Python package name...",description:"Additional Python packages to install via pip (optional)",packageType:"python"},{id:"condaPackages",label:"Conda Packages",type:"python-packages",required:!1,placeholder:"Add conda package name...",description:"Conda packages to install (python=3.9 is included by default)",packageType:"conda"},{id:"deployBins",label:"Deploy Binaries",type:"string-list",required:!1,placeholder:"Add binary/script name...",description:"Binary commands or scripts that should be available to users (e.g., mypackage, run-analysis, process-data)"},{id:"categories",label:"Categories",type:"categories",required:!0,description:"Select categories that best describe your container"}],generateRecipe:e=>{let a=String(e.githubUrl||"").trim(),t=b(a),n=Array.isArray(e.additionalPipPackages)?e.additionalPipPackages:[],i=Array.isArray(e.condaPackages)?e.condaPackages:[],r=Array.isArray(e.deployBins)?e.deployBins:[],o=String(e.pythonVersion||"3.13"),s=["python=".concat(o),...i],c=["git+".concat(a),...n],l=e.license?[e.license]:[],d=[],p={template:{name:"miniconda",version:"latest"}};s.length>0&&(p.template.conda_install=s.join(" ")),c.length>0&&(p.template.pip_install=c.join(" ")),d.push(p),d.push({deploy:{bins:r}}),d.push({test:{name:"verify_installation",script:["# Test Python and conda installation\npython --version\nconda --version\n# Test that pip packages were installed\npython -c \"import sys; print('Python path:', sys.path)\"",'pip list | grep -i "'.concat(t,'" || echo "Warning: ').concat(t,' not found in pip list"'),'# Attempt to import the main package\npython -c "\nimport importlib.util\nimport sys\n\n# Try common package name variations',"package_names = ['".concat(t.replace("-","_"),"', '").concat(t,"', '").concat(t.replace("_","-"),"']"),"imported = False\n\nfor pkg_name in package_names:\n    try:\n        __import__(pkg_name)\n        print(f'Successfully imported {pkg_name}')\n        imported = True\n        break\n    except ImportError:\n        continue\n\nif not imported:\n    print('Warning: Could not import main package. This may be normal if the package has a different import name.')\n    print('Available packages:')\n    import pkg_resources\n    for dist in pkg_resources.working_set:","        if '".concat(t,"' in dist.project_name.lower():"),"            print(f'  - {dist.project_name} ({dist.version})')\nelse:\n    print('Package installation verified successfully!')\n\""].join("\n")}}),d.push(...(0,u.E$)());let g={description:String(e.description||""),example:'# Example usage\n\n```bash\n# Run Python interactively (assuming you are already inside the container)\npython\n\n# Execute a Python script\npython /path/to/your/script.py\n\n# Test that the package is available\npython -c "import '.concat(t.replace("-","_"),"; print('").concat(t," is available!')\"\n").concat(r.length>0?"\n# Use deployed binaries\n".concat(r.map(e=>"".concat(e," --help")).join("\n")):"","\n```"),documentation:"This container includes:\n- Python ".concat(o," via Miniconda\n- The Python package from ").concat(a,"\n- Additional conda packages: ").concat(s.filter(e=>!e.startsWith("python")).join(", ")||"none","\n- Additional pip packages: ").concat(n.join(", ")||"none","\n- Deployed binaries: ").concat(r.join(", ")||"none","\n\nFor detailed package documentation, see: ").concat(a),citation:"Please cite the original authors of the ".concat(t," package when using this container. Repository: ").concat(a)},h=String(e.containerName||""),m=String(e.version||"");return{name:h,version:m,copyright:l,architectures:["x86_64"],structured_readme:g,readme:(0,u.zg)(g,h,m),build:{kind:"neurodocker","base-image":"ubuntu:24.04","pkg-manager":"apt",directives:d},categories:Array.isArray(e.categories)?e.categories:["programming"]}}},{id:"r-package",name:"R Package from GitHub",description:"Create a container for an R package hosted on GitHub with CRAN and Bioconductor support",detailedDescription:"This template creates a containerized environment for R packages hosted on GitHub with CRAN and Bioconductor support.\n\n**What you'll get:**\n\n- Ubuntu 24.04 base with your chosen R version (4.2.3 to 4.4.0)\n- Your GitHub package automatically installed via devtools\n- Optional CRAN and Bioconductor dependencies\n- System libraries for package compilation\n- Comprehensive testing to verify installation\n- Auto-generated documentation and usage examples",icon:"\uD83D\uDCCA",category:"Programming",fields:[{id:"githubUrl",label:"GitHub Repository URL",type:"url",required:!0,placeholder:"https://github.com/user/MyRPackage",description:"The GitHub repository URL for the R package you want to containerize",validation:h},{id:"containerName",label:"Container Name",type:"text",required:!0,placeholder:"myrpackage",description:"A unique name for your container (lowercase letters and numbers only)",validation:m},{id:"rPackageName",label:"R Package Name",type:"text",required:!0,placeholder:"MyRPackage",description:"The name of the R package (as it appears in DESCRIPTION file)",validation:e=>e.trim()?/^[a-zA-Z][a-zA-Z0-9.]*$/.test(e)?null:"R package name must start with a letter and contain only letters, numbers, and dots":"R package name is required"},{id:"version",label:"Version",type:"text",required:!0,placeholder:"1.0.0",description:"Version number for your container",validation:y},{id:"license",label:"License",type:"license",required:!0,description:"Choose the license for your container"},{id:"description",label:"Description",type:"textarea",required:!0,placeholder:"Brief description of what this R package does and its purpose",description:"A clear description of what your R package does and its purpose"},{id:"cranPackages",label:"Additional CRAN Packages",type:"string-list",required:!1,placeholder:"Add CRAN package name...",description:"Additional CRAN packages to install (e.g., ggplot2, dplyr, tidyr)"},{id:"biocPackages",label:"Bioconductor Packages",type:"string-list",required:!1,placeholder:"Add Bioconductor package name...",description:"Bioconductor packages to install (e.g., GenomicRanges, DESeq2)"},{id:"systemPackages",label:"System Dependencies",type:"packages",required:!1,placeholder:"Add system package name...",description:"System packages needed for compilation (e.g., libxml2-dev, libcurl4-openssl-dev)",packageType:"ubuntu"},{id:"deployBins",label:"Deploy Scripts",type:"string-list",required:!1,placeholder:"Add script name...",description:"R scripts or shell scripts that should be available as commands (e.g., run-analysis.R)"},{id:"categories",label:"Categories",type:"categories",required:!0,description:"Select categories that best describe your container"}],generateRecipe:e=>{let a=String(e.githubUrl||"").trim(),t=String(e.rPackageName||(e=>{let a=e.match(/github\.com\/([^\/]+)\/([^\/]+)/);return a&&a[2]?a[2].replace(/\.git$/,""):"MyRPackage"})(a)),n=Array.isArray(e.cranPackages)?e.cranPackages:[],i=Array.isArray(e.biocPackages)?e.biocPackages:[],r=Array.isArray(e.systemPackages)?e.systemPackages:[],o=Array.isArray(e.deployBins)?e.deployBins:[],s=e.license?[e.license]:[],c=[];r.length>0&&c.push({install:r}),c.push({install:["r-base","r-base-dev"]});let l=e=>"'".concat(String(e).replace(/\\/g,"\\\\").replace(/'/g,"\\'"),"'"),d=(()=>{try{let e=new URL(a).pathname.replace(/^\/|\/$/g,"").replace(/\.git$/i,"").split("/");return e.length>=2?"".concat(e[0],"/").concat(e[1]):a}catch(e){return a.replace(/^https?:\/\/github\.com\//i,"").replace(/\.git$/i,"").replace(/\/+$/g,"")}})(),p=[];if(n.length>0){let e=n.map(l).join(", "),a=["R --slave -e \" options(repos = c(CRAN = 'https://cloud.r-project.org'));","pkgs <- c(".concat(e,");"),"mis <- setdiff(pkgs, rownames(installed.packages())); if (length(mis)) install.packages(mis, dependencies = TRUE); cat('Installed CRAN packages:\\n'); if (length(pkgs)) cat(paste(pkgs, collapse = ', '), '\\n') \""].join(" ");p.push(a)}if(i.length>0){let e=i.map(l).join(", "),a=["R --slave -e \" options(repos = c(CRAN = 'https://cloud.r-project.org')); if (!requireNamespace('BiocManager', quietly = TRUE))    install.packages('BiocManager');","pkgs <- c(".concat(e,");"),"mis <- setdiff(pkgs, rownames(installed.packages())); if (length(mis))    BiocManager::install(mis, ask = FALSE, update = FALSE); cat('Installed Bioconductor packages:\\n'); if (length(pkgs)) cat(paste(pkgs, collapse = ', '), '\\n') \""].join(" ");p.push(a)}let g=["R --slave -e \" options(repos = c(CRAN = 'https://cloud.r-project.org')); if (!requireNamespace('remotes', quietly = TRUE))    install.packages('remotes');","remotes::install_github('".concat(d,"', "),"  dependencies = NA, upgrade = 'never', build_vignettes = FALSE );","cat('Installed ".concat(t," from GitHub (', '").concat(d,"', "),")\\n') \""].join(" ");p.push(g),p.length>0&&c.push({run:p}),o.length>0&&c.push({deploy:{bins:o}});let h=[...n,...i].map(l).join(", ");c.push({test:{name:"verify_r_installation",script:["# Test R installation\nR --version\necho \"Testing R package installation...\"\nR --slave -e \"\n  # Check R version\n  cat('R version:', R.version.string, '\\n')\n  \n  # Test main package\n  tryCatch({",'    library("'.concat(t,'")'),"    cat('Successfully loaded ".concat(t,"\\n')"),"    \n    # Try to get package info","    pkg_info <- packageDescription('".concat(t,"')"),"    if (!is.na(pkg_info)) {\n      cat('Package version:', pkg_info[['Version']], '\\n')\n      cat('Package title:', pkg_info[['Title']], '\\n')\n    }\n  }, error = function(e) {","    cat('Warning: Could not load ".concat(t,":', "),"        e[['message']], '\\n')\n    cat('Installed packages:\\n')\n    print(installed.packages()[,c('Package', 'Version')])\n  })\n  \n  # List key installed packages","  key_packages <- c(".concat(h,")"),"  if (length(key_packages) > 0) {\n    cat('Checking additional packages:\\n')\n    for (pkg in key_packages) {\n      if (require(pkg, character.only = TRUE, quietly = TRUE)) {\n        cat('  ✓', pkg, '\\n')\n      } else {\n        cat('  ✗', pkg, '(not found)\\n')\n      }\n    }\n  }\n\""].join("\n")}});let m={description:String(e.description||""),example:"",documentation:"This container includes:\n- R\n- The R package ".concat(t," from ").concat(a,"\n- Additional CRAN packages: ").concat(n.join(", ")||"none","\n- Additional Bioconductor packages: ").concat(i.join(", ")||"none","\n- System dependencies: ").concat(r.join(", ")||"none","\n- Deployed scripts: ").concat(o.join(", ")||"none","\n\nFor detailed package documentation, see: ").concat(a),citation:"Please cite the original authors of the ".concat(t," package when using this container. Repository: ").concat(a)},y=String(e.containerName||""),b=String(e.version||"");return{name:y,version:b,copyright:s,architectures:["x86_64"],structured_readme:m,readme:(0,u.zg)(m,y,b),build:{kind:"neurodocker","base-image":"ubuntu:24.04","pkg-manager":"apt",directives:c},categories:Array.isArray(e.categories)?e.categories:["programming"]}}},{id:"start-from-scratch",name:"Start from Scratch",description:"Create a new container with full control over all settings",detailedDescription:"Create a new container with full control over all settings. This template provides maximum flexibility for custom containerization projects.\n",icon:"⚙️",category:"Custom",fields:[{id:"containerName",label:"Container Name",type:"text",required:!0,placeholder:"mycontainer",description:"A unique name for your container (lowercase letters and numbers only)",validation:e=>e.trim()?e.length<2?"Container name must be at least 2 characters":e.length>63?"Container name cannot exceed 63 characters":/^[a-z0-9]+$/.test(e)?null:"Container name must be lowercase and can only contain letters and numbers":"Container name is required"},{id:"version",label:"Version",type:"text",required:!0,placeholder:"1.0.0",description:"Version number for your container",validation:e=>e.trim()?null:"Version is required"},{id:"description",label:"Description",type:"textarea",required:!1,placeholder:"Brief description of what this container does...",description:"A clear description of what your container does and its purpose"},{id:"categories",label:"Categories",type:"categories",required:!0,description:"Select categories that best describe your container"}],generateRecipe:e=>{let a={description:String(e.description||""),example:"# Example usage\n\n```bash\n# Run the containerized tool (assuming you are already inside the container)\n".concat(e.containerName," --help\n```"),documentation:"This container was created from scratch.",citation:"Please cite appropriately when using this container."},t=String(e.containerName||""),n=String(e.version||"1.0.0");return{name:t,version:n,copyright:[],architectures:["x86_64"],structured_readme:a,readme:(0,u.zg)(a,t,n),build:{kind:"neurodocker","base-image":"ubuntu:24.04","pkg-manager":"apt",directives:[...(0,u.E$)()]},categories:Array.isArray(e.categories)?e.categories:["utilities"]}}}],f=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h-8 w-8";switch(e){case"python-package":default:return i.createElement(d.A,{className:a});case"r-package":return i.createElement(p,{className:a});case"start-from-scratch":return i.createElement(g.A,{className:a})}};var k=t(6472),v=t(7676),w=t(2661),j=t(7903),N=t(4543),C=t(6924),A=t(2171);let P=e=>{let{onClose:a,onComplete:t,onPublish:d}=e,{isDark:p}=(0,k.D)(),[g,h]=(0,i.useState)(0),[m,y]=(0,i.useState)(null),[P,R]=(0,i.useState)({}),[S,q]=(0,i.useState)({}),[E,T]=(0,i.useState)(!1),[_,B]=(0,i.useState)([]),[L,U]=(0,i.useState)(!1),[G,D]=(0,i.useState)(!1);(0,i.useEffect)(()=>{(async()=>{D(!0);try{let e=await (0,A.ES)();B(e),U(!0)}catch(e){console.error("Failed to load package database:",e)}finally{D(!1)}})()},[]),(0,i.useEffect)(()=>{if(!m)return;let e=String(P.githubUrl||"");if(!e)return;let a=b(e),t=b(String(P.oldGithubUrl||"")),n=!(P.containerName&&P.containerName!==t)&&a&&P.containerName!==a,i=P.oldGithubUrl!==P.githubUrl;(n||i)&&R(e=>({...e,containerName:n?a:e.containerName,oldGithubUrl:P.githubUrl||e.oldGithubUrl}))},[P.githubUrl,P.containerName,P.oldGithubUrl,m]);let M=(0,i.useCallback)(()=>{h(0),y(null),R({}),q({}),T(!1)},[]),z=(0,i.useCallback)(()=>{M(),a()},[M,a]);(0,i.useEffect)(()=>{let e=e=>{"Escape"===e.key&&z()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[z]);let H=(0,i.useCallback)((e,a)=>{if(e.required){if(("packages"===e.type||"python-packages"===e.type||"categories"===e.type||"string-list"===e.type)&&(!a||Array.isArray(a)&&0===a.length))return"".concat(e.label," is required");else if("license"===e.type&&!a)return"".concat(e.label," is required");else if(("text"===e.type||"url"===e.type||"textarea"===e.type)&&!String(a).trim())return"".concat(e.label," is required")}return e.validation&&String(a).trim()?e.validation(String(a).trim()):null},[]),V=(0,i.useCallback)(()=>{if(!m)return!1;let e={},a=!0;return m.fields.forEach(t=>{let n=P[t.id]||"",i=H(t,n);i&&(e[t.id]=i,a=!1)}),q(e),a},[m,P,H]),F=(0,i.useCallback)(()=>{0===g&&m?h(1):1===g&&V()&&h(2)},[g,m,V]),W=(0,i.useCallback)(()=>{h(Math.max(0,g-1)),q({})},[g]),$=(0,i.useCallback)(e=>{y(e);let a={};e.fields.forEach(e=>{"select"===e.type&&e.options&&e.options.length>0?a[e.id]=e.options[0].value:"packages"===e.type||"python-packages"===e.type||"categories"===e.type||"string-list"===e.type?a[e.id]=[]:"license"===e.type?a[e.id]=null:a[e.id]=""}),R(a),q({})},[]),I=(0,i.useCallback)((e,a)=>{R(t=>({...t,[e]:a})),S[e]&&q(a=>{let t={...a};return delete t[e],t})},[S]),O=(0,i.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(m&&V()){T(!0);try{let a=m.generateRecipe(P);e&&d?d(a):t(a),z()}catch(e){console.error("Failed to generate recipe:",e),alert("Failed to generate container recipe. Please check your inputs.")}finally{T(!1)}}},[m,P,V,t,d,z]),Z=(0,i.useCallback)(e=>{var a;let t=P[e.id],i=S[e.id],r=(0,v.cn)("w-full px-3 py-2 border rounded-md text-sm transition-colors focus:outline-none focus:ring-2",i?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-green-500",p?"bg-white/5 text-white":"bg-white text-gray-900"),o=(0,v.cn)("w-full px-3 py-2 border rounded-md text-sm transition-colors focus:outline-none focus:ring-2",i?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-green-500",p?"bg-white/5 text-white":"bg-white text-gray-900");return(0,n.jsxs)("div",{className:(0,v.cn)("p-4 rounded-lg shadow-sm",p?"bg-white/5":"bg-white/90"),children:[(0,n.jsxs)("label",{className:(0,v.cn)("block text-sm font-medium mb-1",p?"text-gray-200":"text-gray-800"),children:[e.label,e.required&&(0,n.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),e.description&&(0,n.jsx)("p",{className:(0,v.cn)("text-xs mb-2",p?"text-gray-400":"text-gray-600"),children:e.description}),"license"===e.type?(0,n.jsx)(w.Hm,{licenses:t&&"object"==typeof t&&("license"in t||"name"in t)?[t]:[],onChange:a=>I(e.id,a[0]||null),showAddButton:!1,renderAddButton:()=>null}):"packages"===e.type?(0,n.jsx)(j.A,{packages:Array.isArray(t)?t:[],onChange:a=>I(e.id,a),packageDatabase:_,databaseLoaded:L,isLoadingDatabase:G,baseImage:"ubuntu:24.04"}):"python-packages"===e.type?(0,n.jsx)(N.A,{tags:Array.isArray(t)?t:[],onChange:a=>I(e.id,a),placeholder:e.placeholder,emptyMessage:"No ".concat("conda"===e.packageType?"conda":"Python"," packages added yet"),suggestions:"python"===e.packageType?["numpy","pandas","matplotlib","scipy","scikit-learn","jupyter","requests","flask","seaborn","plotly"]:"conda"===e.packageType?["numpy","pandas","matplotlib","scipy","scikit-learn","jupyter","nodejs","seaborn","plotly","opencv"]:[],onSuggestionClick:e=>{console.log("Added suggested package: ".concat(e))}}):"categories"===e.type?(0,n.jsx)("div",{className:"space-y-3",children:(0,n.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-2",children:Object.entries(u.R6).map(a=>{let[i,{description:r,color:o}]=a;return(0,n.jsxs)("label",{className:(0,v.cn)("flex items-center gap-2 p-3 rounded-lg border cursor-pointer transition-all hover:scale-[1.02]",Array.isArray(t)&&t.includes(i)?p?"bg-gradient-to-br from-[#7bb33a]/20 to-[#6aa329]/15 border-[#7bb33a]/40 shadow-md":"bg-gradient-to-br from-[#6aa329]/20 to-[#4f7b38]/15 border-[#6aa329]/40 shadow-md":p?"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20":"bg-white/50 border-gray-200 hover:bg-white/80 hover:border-gray-300"),children:[(0,n.jsx)("input",{type:"checkbox",checked:Array.isArray(t)&&t.includes(i),onChange:()=>{let a=Array.isArray(t)?t:[];a.includes(i)?I(e.id,a.filter(e=>e!==i)):I(e.id,[...a,i])},className:(0,v.cn)("h-4 w-4 rounded",p?"text-[#7bb33a] border-white/20 focus:ring-[#7bb33a] bg-white/5":"text-[#6aa329] border-gray-300 focus:ring-[#6aa329]")}),(0,n.jsx)("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:o}}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("div",{className:(0,v.cn)("text-sm font-medium truncate",p?"text-white":"text-gray-900"),children:i}),(0,n.jsx)("div",{className:(0,v.cn)("text-xs truncate",p?"text-gray-400":"text-gray-600"),children:r})]})]},i)})})}):"string-list"===e.type?(0,n.jsx)(N.A,{tags:Array.isArray(t)?t:[],onChange:a=>I(e.id,a),placeholder:e.placeholder,emptyMessage:"No items added yet",suggestions:[],onSuggestionClick:()=>{}}):"select"===e.type?(0,n.jsx)("select",{value:"string"==typeof t?t:"",onChange:a=>I(e.id,a.target.value),className:o,children:null==(a=e.options)?void 0:a.map(e=>(0,n.jsx)("option",{value:e.value,className:p?"bg-gray-800 text-white":"bg-white text-gray-900",children:e.label},e.value))}):"textarea"===e.type?(0,n.jsx)("textarea",{value:"string"==typeof t?t:"",onChange:a=>I(e.id,a.target.value),placeholder:e.placeholder,rows:4,className:r}):(0,n.jsx)("input",{type:"url"===e.type?"url":"text",value:"string"==typeof t?t:"",onChange:a=>I(e.id,a.target.value),placeholder:e.placeholder,className:r}),i&&(0,n.jsx)("p",{className:"text-red-500 text-xs mt-1",children:i})]})},[P,S,p,I,_,L,G]);return(0,n.jsxs)("div",{"aria-labelledby":"guided-tour-title",className:(0,v.cn)("relative rounded-xl border shadow-lg",p?"bg-black/30 border-white/10":"bg-white border-gray-200"),children:[(0,n.jsxs)("div",{className:(0,v.cn)("px-5 py-3 border-b flex items-center justify-between",p?"border-white/10":"border-gray-200/50"),children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)(r.A,{className:(0,v.cn)("h-6 w-6",p?"text-[#91c84a]":"text-[#6aa329]")}),(0,n.jsx)("h2",{id:"guided-tour-title",className:(0,v.cn)("text-lg font-semibold",p?"text-white":"text-gray-900"),children:"Create New Container"})]}),(0,n.jsx)("button",{onClick:z,className:(0,v.cn)("p-2 rounded-md transition-colors",p?"hover:bg-white/10 text-gray-300":"hover:bg-gray-200/50 text-gray-600"),children:(0,n.jsx)(o.A,{className:"h-5 w-5"})})]}),(0,n.jsxs)("div",{className:"px-5 py-5 space-y-5",children:[0===g&&(0,n.jsxs)("div",{className:"space-y-5",children:[(0,n.jsx)(C.B,{markdownContent:"# Choose a Template\n\n**Choose the most specific template for your needs.** More specific templates (like Python Package or R Package) provide better defaults, validation, and guided workflows, while general templates offer maximum flexibility. You can always customize any details after creation, so start with the most relevant template and adjust as needed.\n\n---\n\n## Template Details\n\n**Python Package**: Pre-configured for Python projects with conda and pip installation, automatic GitHub package installation, and comprehensive testing.\n\n**R Package**: Optimized for R packages with configurable R versions (4.2.3 to 4.4.0), CRAN and Bioconductor support, and devtools integration.\n\n**Start from Scratch**: Maximum flexibility for custom container configurations. Best for experienced users or unique requirements not covered by specific templates.",sourceFilePath:"copy/help/ui/template-selection.md"}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(e=>(0,n.jsxs)("button",{onClick:()=>$(e),className:(0,v.cn)("group flex flex-col p-4 rounded-lg shadow-md transition-all hover:scale-[1.02] hover:shadow-lg text-left",(null==m?void 0:m.id)===e.id?p?"bg-gradient-to-br from-[#7bb33a]/40 via-[#6aa329]/35 to-[#5a8f23]/30 backdrop-blur-md text-white shadow-lg ring-2 ring-[#91c84a]/50 border border-[#7bb33a]/40":"bg-gradient-to-br from-[#6aa329]/40 via-[#5a8f23]/35 to-[#4f7b38]/30 backdrop-blur-md text-white shadow-lg ring-2 ring-[#6aa329]/50 border border-[#6aa329]/40":p?"bg-[#1f2e18]/25 backdrop-blur-sm border border-[#2d4222]/40 text-[#c4e382] hover:bg-[#1f2e18]/35 hover:border-[#2d4222]/60 hover:text-[#e8f5d0]":"bg-white/20 backdrop-blur-sm border border-[#e6f1d6]/40 text-gray-800 hover:bg-white/30 hover:border-[#e6f1d6]/60"),children:[(0,n.jsx)("div",{className:"mb-2",children:f(e.id,(0,v.cn)("h-8 w-8 transition-opacity",(null==m?void 0:m.id)===e.id?"opacity-90":"opacity-60"))}),(0,n.jsx)("h4",{className:"font-medium mb-1",children:e.name}),(0,n.jsx)("p",{className:"text-sm opacity-80",children:e.description})]},e.id))})]}),1===g&&m&&(0,n.jsxs)("div",{className:"space-y-5",children:[(0,n.jsx)("h3",{className:(0,v.cn)("text-lg font-medium",p?"text-white":"text-gray-900"),children:"Configure Your Container"}),m.detailedDescription&&(0,n.jsx)(C.B,{markdownContent:m.detailedDescription,className:"mb-4",sourceFilePath:"copy/templates/".concat(m.id.replace("-","-"),".md")}),(0,n.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:m.fields.map(e=>"githubUrl"===e.id?(0,n.jsx)("div",{className:"lg:col-span-2",children:Z(e)},e.id):"containerName"===e.id||"version"===e.id||"r-package"===m.id&&("rPackageName"===e.id||"rVersion"===e.id)?(0,n.jsx)(i.Fragment,{children:Z(e)},e.id):(0,n.jsx)("div",{className:"lg:col-span-2",children:Z(e)},e.id))})]}),2===g&&m&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h3",{className:(0,v.cn)("text-lg font-medium",p?"text-white":"text-gray-900"),children:"Review & Create"}),(0,n.jsxs)("div",{className:(0,v.cn)("p-4 rounded-lg border",p?"bg-white/5 border-white/10":"bg-gray-50 border-gray-200"),children:[(0,n.jsx)("h4",{className:(0,v.cn)("font-medium mb-3",p?"text-white":"text-gray-900"),children:"Container Summary"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-1",children:[(0,n.jsx)("span",{className:(0,v.cn)("font-medium",p?"text-gray-300":"text-gray-700"),children:"Name:"}),(0,n.jsx)("span",{className:(0,v.cn)("break-all",p?"text-white":"text-gray-900"),children:String(P.containerName||P.name||"Unnamed")})]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-1",children:[(0,n.jsx)("span",{className:(0,v.cn)("font-medium",p?"text-gray-300":"text-gray-700"),children:"Version:"}),(0,n.jsx)("span",{className:(0,v.cn)("break-all",p?"text-white":"text-gray-900"),children:String(P.version||"1.0.0")})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:(0,v.cn)("font-medium",p?"text-gray-300":"text-gray-700"),children:"Template:"})," ",(0,n.jsx)("span",{className:(0,v.cn)(p?"text-white":"text-gray-900"),children:m.name})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:(0,v.cn)("font-medium",p?"text-gray-300":"text-gray-700"),children:"Categories:"})," ",(0,n.jsx)("span",{className:(0,v.cn)(p?"text-white":"text-gray-900"),children:Array.isArray(P.categories)&&P.categories.length>0?P.categories.join(", "):"Not set"})]})]})]}),(0,n.jsxs)("div",{className:(0,v.cn)("p-4 rounded-lg border",p?"bg-blue-900/20 border-blue-700/30":"bg-blue-50 border-blue-200"),children:[(0,n.jsxs)("h4",{className:(0,v.cn)("font-medium mb-3 flex items-center gap-2",p?"text-blue-300":"text-blue-800"),children:[(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"What happens next?"]}),(0,n.jsxs)("div",{className:(0,v.cn)("space-y-2 text-sm",p?"text-blue-200":"text-blue-700"),children:[(0,n.jsxs)("div",{className:"flex items-start gap-2",children:[(0,n.jsx)("span",{className:"font-medium",children:"1."}),(0,n.jsx)("span",{children:"Your container recipe will be created and loaded into the builder"})]}),(0,n.jsxs)("div",{className:"flex items-start gap-2",children:[(0,n.jsx)("span",{className:"font-medium",children:"2."}),(0,n.jsx)("span",{children:"You can customize build directives, add software packages, and configure deployment settings"})]}),(0,n.jsxs)("div",{className:"flex items-start gap-2",children:[(0,n.jsx)("span",{className:"font-medium",children:"3."}),(0,n.jsx)("span",{children:"Test your container recipe and generate a Dockerfile"})]}),(0,n.jsxs)("div",{className:"flex items-start gap-2",children:[(0,n.jsx)("span",{className:"font-medium",children:"4."}),(0,n.jsx)("span",{children:"Publish your container to the NeuroContainers repository when ready"})]})]})]})]})]}),(0,n.jsxs)("div",{className:(0,v.cn)("px-5 py-3 border-t flex justify-between",p?"border-white/10":"border-gray-200/50"),children:[(0,n.jsxs)("button",{onClick:W,disabled:0===g,className:(0,v.cn)("flex items-center space-x-2 px-4 py-2 rounded-md transition-colors",0===g?"text-gray-400 cursor-not-allowed":p?"text-gray-300 hover:bg-white/10":"text-gray-700 hover:bg-gray-200/50"),children:[(0,n.jsx)(s,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:"Back"})]}),(0,n.jsxs)("div",{className:"flex space-x-3",children:[(0,n.jsx)("button",{onClick:z,className:(0,v.cn)("px-4 py-2 rounded-md transition-colors",p?"text-gray-300 hover:bg-white/10":"text-gray-700 hover:bg-gray-200/50"),children:"Cancel"}),g<2?(0,n.jsxs)("button",{onClick:F,disabled:0===g&&!m,className:(0,v.cn)("flex items-center space-x-2 px-4 py-2 rounded-md text-white transition-colors",0!==g||m?p?"bg-gradient-to-r from-[#7bb33a] to-[#6aa329] hover:from-[#8ccf45] hover:to-[#7bb33a]":"bg-gradient-to-r from-[#6aa329] to-[#4f7b38] hover:from-[#7bb33a] hover:to-[#6aa329]":"bg-gray-400 cursor-not-allowed"),children:[(0,n.jsx)("span",{children:"Next"}),(0,n.jsx)(c,{className:"h-4 w-4"})]}):(0,n.jsx)("button",{onClick:()=>O(!1),disabled:E,className:(0,v.cn)("flex items-center space-x-2 px-6 py-2 rounded-md text-white transition-colors",E?"bg-gray-400 cursor-not-allowed":p?"bg-gradient-to-r from-[#7bb33a] to-[#6aa329] hover:from-[#8ccf45] hover:to-[#7bb33a]":"bg-gradient-to-r from-[#6aa329] to-[#4f7b38] hover:from-[#7bb33a] hover:to-[#6aa329]"),children:E?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),(0,n.jsx)("span",{children:"Creating..."})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:"Create Container"})]})})]})]})]})}}}]);